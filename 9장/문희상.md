# 9장 운영 부담을 최소화하라

## ⚡️ 기억하고 싶은 혹은 인상 깊었던 내용
- 인스타그램은 인수될 당시 직원이 단 13명으로 사용자 대 직원이 비율이 300만 대 1이었다
- 반복해서 발생하는 비용에서 시간을 절약하면 가장 중요한 문제에 집중할 수 있는 자유가 생긴다
- 확고히 검증된 기술을 선택하고 이미 있는 것들을 만드는 시간 낭비를 피했다

#### 단순하게 운영하라
- 처음 떠올리는 해결책은 매우 복잡하지만 포기하지 말고 문제를 붙들고 양파처럼 껍질을 더 벗겨내다 보면 종종 매우 우하하고 간단한 해결책에 도달할 수 있다
- 아키텍처가 너무 복잡하면 다음 몇 가지 측면에서 유지 보수 비용이 발생
  - 다양한 시스템에 관한 엔지니어링 전문 지식을 습득해야 한다
  - 복잡성이 증가하면 잠재적 단일 장애점(single point of failure)이 늘어난다
  - 신입 개발자가 새 시스템을 익히고 이해하기 어려워진다
  - 추상화, 라이브러리, 도구를 개선하는 데 드는 노력이 여러 시스템으로 분산되어 희석된다
 
#### 빨리 실패하는 시스템을 만들어라
- 시스템이 느리게 실패하면 코드 오류의 원인이 불분명해져서 어떤 문제가 일어난 것인지 알아내기 어려워진다
- 빨리 실패하는 시스템은 문제를 더 빨리 더 직접적으로 드러내서 소프트웨어 유지 보수, 디버깅에 드는 시간을 줄이는 데 도움을 준다

#### 기계적인 작업을 꾸준히 자동화하라
- 이 작업을 수동으로 하는 것, 이 작업을 자동화하기 위한 비용을 선불로 내는 것, 둘 중 어느 쪽을 택했을 때 전체적으로 시간이 더 절약될까를 고민해야한다
- 자동화가 잘 이루어지지 않는 이유로는,
  - 시간 부족, 공유지의 비극(자기 차례만 넘길 정도로 수동으로 처리하고 넘김), 자동화 도구 익숙치X, 작업 빈도 과소평가, 장기적으로 시간 절약 체감X
- 주어진 시간이 제한적이라는 것을 고려해서 우선 메커니즘 자동화에 집중하라
- 똑똑한 자동 의사 결정이라는 훨씬 더 어려운 문제는 쉽게 달성할 수 있는 목표를 달성한 후에 착수하는 것이 좋다

#### 일괄 처리를 멱등성 있게 만들어라
- 멱등성 있는 프로세스는 의도치 않은 부작용이 일어날 걱정 없이 필요한 만큼 얼마든지 재시도할 수 있다
- 멱동성 있게 만들 수 없다면 적어도 일괄 처리를 재시도하거나 재진입할 수 있도록 구성하는 것이 도움이 된다
- 이는 사용 빈도가 낮은 작업 흐름의 드라이런 실행을 매일 또는 매주 예약해서 사용 빈도가 더 높은 작업 흐름으로 변환하는 강력한 기법을 활용할 수 있다
- 그러면 무언가 망가졌을 때 더 빨리 피드백을 받을 수 있다

#### 신속하게 대응하고 복구하는 능력을 강화하라
- 넷플릭스 개발자들은 자체 인프라 내에서 서비스를 무작위로 망가뜨리는 카오스 몽키라는 시스템을 만드는 반직관적인 작업을 했다
- 이를 통해 아키텍처상 취약점을 찾아내고 빠르게 복구하는 능력을 기른다
- 우리가 할 수 있는 최선은 '성공을 위한 대본'을 작성하고, 실패 시나리오를 연습하고, 신속하게 복구하는 능력을 기르는 것이다


## 🫀 느낀 점
- 빠르게 실패하는 시스템을 만들어야 한다는 부분이 인상적이었다. 보통의 사람들을 자신이 만든 것이 실패하는 모습을 보고 싶어하지 않아 숨기려고 할 것이다.
- 하지만 이는 견고한 시스템을 만드는 것에 아무런 도움이 되지 않는다. 여러 실패 시나리오, 일어나지 않을 것 같은 엣지 케이스를 최대한 생각하고 대비한다면 미래에 발생할 더 큰 문제들을 사전에 해결 할 수 있을 것이다.
